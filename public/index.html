<!DOCTYPE html>
<html>
<<<<<<< HEAD
    <head>
        <title>FileAnalyzer</title>
        <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
                    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
                    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
                    

    </head>

    <body>

        <!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” ì‹œì‘ -->
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
                        aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/">File Analyzer</a>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="/">Home</a>
                        </li>
                        <li>
                            <a id="loginmenu" href="/login.html">Login</a>
                        </li>
                        <li>
                            <a id="joinmenu" href="/join.html">Create Account</a>
                        </li>
                        <li>
                            <a id="startWork" href="/index.html"></a>
                        </li>

                    </ul>
                </div>
                <!-- /.navbar-collapse -->
            </div>
            <!-- /.container-fluid -->
        </nav>
        <br>
        <br>
        <br>
        <br>
        <br>

        <!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” ë -->



        <!-- ì ë³´íŠ¸ë¡  ì‹œì‘ -->
        <div class="container">
            <div class="jumbotron">
                <h1>
                    <span style="color:black">File Analyzer.</span>
                </h1>
                <p>
                <span style="color:black">File Analyzer provides lots of functions.</span>
                </p>
            </div>
        </div>
        <br>
        <!-- ì ë³´íŠ¸ë¡  ë -->


        <!-- ì“°ê¸° í…ìŠ¤íŠ¸ í•„ë“œ ì‹œì‘-->
        <div class="container">
            <div class="form-group">
                <label for="comment">Review/Question:</label>
                <textarea class="form-control" rows="5" id="comment" placeholder="Please leave a review or question!"></textarea>
                <br>

                <!-- ì“°ê¸° ë²„íŠ¼ ê°€ìš´ë° ì •ë ¬ -->
                <div class="text-center">
                    <button type="button" class="btn btn-success write" id="write" name="write">submit</button>
                </div>
            </div>
        </div>
        <!-- ì“°ê¸° í…ìŠ¤íŠ¸ í•„ë“œ ë-->



<!--         ê°ì‚¬ë¦¬ìŠ¤íŠ¸ ì¶œë ¥í•˜ê¸°-->
        <div class="container">
            <hr>
<!--            <h3>ê°ì‚¬ë¦¬ìŠ¤íŠ¸</h3>-->
            <br>
<!--             ê°ì‚¬ ë¦¬ìŠ¤íŠ¸ ë¶™ì¼ ê³³ -->
            <div class="thanksList"></div>
        </div>


        <!--ìŠ¤í¬ë¦½íŠ¸ ë¶€ë¶„. ìì‹ ì˜ ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¡œ ë³€ê²½í•˜ì„¸ìš”! -->
        <script src="https://www.gstatic.com/firebasejs/4.13.0/firebase.js"></script>
        <script>
            var firebaseEmailAuth; //íŒŒì´ì–´ë² ì´ìŠ¤ email ì¸ì¦ ëª¨ë“ˆ ì „ì—­ë³€ìˆ˜
            var firebaseDatabase; //íŒŒì´ì–´ë² ì´ìŠ¤ db ëª¨ë“ˆ ì „ì—­ë³€ìˆ˜
            var name; //ìœ ì € ì´ë¦„
            var loginUserKey; //ë¡œê·¸ì¸í•œ ìœ ì €ì˜ ë¶€ëª¨ key
            var userInfo; //ë¡œê·¸ì¸í•œ ìœ ì €ì˜ ì •ë³´ object type

            //íŒŒì´ì–´ ë² ì´ìŠ¤ ì´ˆê¸°í™” ì½”ë“œ
            var config = {
                apiKey: "AIzaSyBFfUi9A7dJc8E7-NAAyh68OW6QFokJN3o",
                authDomain: "cs252-lab6-58dac.firebaseapp.com",
                databaseURL: "https://cs252-lab6-58dac.firebaseio.com",
                projectId: "cs252-lab6-58dac",
                storageBucket: "cs252-lab6-58dac.appspot.com",
                messagingSenderId: "730586130212"
            };
        //íŒŒì´ì–´ë² ì´ìŠ¤ ì´ˆê¸°í™”
        firebase.initializeApp(config);
        //ì¸ì¦ëª¨ë“ˆ ê°ì²´ ê°€ì ¸ì˜¤ê¸°
        firebaseEmailAuth = firebase.auth();
        //ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë“ˆê°ì²´ ê°€ì ¸ì˜¤ê¸°
        firebaseDatabase = firebase.database();

        //ì„¸ì…˜ ì²´í¬ í•¨ìˆ˜
        userSessionCheck();



        //ìœ ì €ê°€ ë¡œê·¸ì¸ í–ˆëŠ”ì§€ ì•ˆí–ˆëŠ”ì§€ í™•ì¸í•´ì£¼ëŠ” í•¨ìˆ˜
        function userSessionCheck() {



        //ë¡œê·¸ì¸ì´ ë˜ì–´ìˆìœ¼ë©´ - ìœ ì €ê°€ ìˆìœ¼ë©´, userë¥¼ ì¸ìê°’ìœ¼ë¡œ ë„˜ê²¨ì¤€ë‹¤.
        firebaseEmailAuth.onAuthStateChanged(function (user) {

        if (user) {
        //ì¡°íšŒ - ë°ì´í„° ë² ì´ìŠ¤ì— ì €ì¥ëœ ë‹‰ë„¤ì„ì„ í˜„ì¬ ì ‘ì†ë˜ì–´ ìˆëŠ” userì˜ pk key ê°’ì„ ì´ìš©í•´ì„œ ê°€ì ¸ì˜¤ê¸°
        firebaseDatabase.ref("users/" + user.uid).once('value').then(function (snapshot) {

        //ìë°”ìŠ¤í¬ë¦½íŠ¸ dom ì„ íƒìë¥¼ í†µí•´ì„œ ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ì˜ ì—˜ë¦¬ë¨¼íŠ¸ ë³€ê²½í•´ì£¼ê¸°
        document.getElementById("loginmenu").textContent = "Logout";
        document.getElementById("loginmenu").href = "/logout.html";
        document.getElementById("joinmenu").textContent = "Hello! " + snapshot.val().name;
        document.getElementById("joinmenu").href = "#";


        document.getElementById("startWork").textContent = "Start Work!";
        document.getElementById("startWork").href = "/buttons.html";



        name = snapshot.val().name;   //ìœ ì € ë‹‰ë„¤ì„ì€ ê³„ì† ì“¸ê±°ê¸° ë•Œë¬¸ì— ì „ì—­ë³€ìˆ˜ë¡œ í• ë‹¹
        loginUserKey = snapshot.key;  //ë¡œê·¸ì¸í•œ ìœ ì €ì˜ keyë„ ê³„ì† ì“¸ ê²ƒì´ê¸° ë•Œë¬¸ì— ì „ì—­ë³€ìˆ˜ë¡œ í• ë‹¹
        userInfo = snapshot.val(); //snapshot.val()ì— user í…Œì´ë¸”ì— ìˆëŠ” í•´ë‹¹ ê°œì²´ ì •ë³´ê°€ ë„˜ì–´ì˜¨ë‹¤. userInfoì— ëŒ€ì…!

    //alert(userInfo.userid);  //uidëŠ” dbì—ì„œ user í…Œì´ë¸”ì˜ ê° ê°œì²´ë“¤ì˜ pk ì¸ë°, ì´ ê°’ì€ ì¸ì¦ì—ì„œ ìƒì„±ëœ ì•„ì´ë””ì˜ pk ê°’ê³¼ ê°™ë‹¤. *ì¤‘ìš”!
        return true
        });


        } else {
             $('#comment').val("Login is required to leave review/question here.");
                $(document).ready(function () {

                    //ë©”ì¸í™”ë©´ ê°ì‚¬ì¼ê¸° ì“°ê¸°ë²„íŠ¼ ëˆŒë €ì„ ë•Œ
                    $(document).on('click', '.write', function () {

                    //ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ì˜ textê°’ ê°€ì ¸ì˜¤ê¸° - ìë°”ìŠ¤í¬ë¦½íŠ¸ dom ë°©ì‹ìœ¼ë¡œ ê°€ì ¸ì™”ë‹¤.
                    var seseionCheck = document.getElementById("loginmenu").textContent;

                    //ë‚´ê°€ ì“´ê¸€ ê°€ì ¸ì˜¤ê¸° - jqueryë°©ì‹ìœ¼ë¡œ ê°€ì ¸ì™”ë‹¤.
                    comment = $('#comment').val();
                    if (seseionCheck == "Logout") {
                    //ì €ì¥í•˜ê¸°
                    saveThanks();
                    } else {
                    alert("Login is required.")
                    }
                    });
                });

            return false
            }
        });
=======
  <head>
    <link rel="stylesheet" href="css/style_log.css">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CS252 LAB06</title>
    <!-- update the version number as needed -->
    <script defer src="/__/firebase/4.12.1/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/4.12.1/firebase-auth.js"></script>
    <script defer src="/__/firebase/4.12.1/firebase-database.js"></script>
    <script defer src="/__/firebase/4.12.1/firebase-messaging.js"></script>
    <script defer src="/__/firebase/4.12.1/firebase-storage.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script defer src="/__/firebase/init.js"></script>

    </head>
  <body>
      <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
      <script>
          // Initialize Firebase
          var config = {
              apiKey: "AIzaSyBFfUi9A7dJc8E7-NAAyh68OW6QFokJN3o",
              authDomain: "cs252-lab6-58dac.firebaseapp.com",
              databaseURL: "https://cs252-lab6-58dac.firebaseio.com",
              projectId: "cs252-lab6-58dac",
              storageBucket: "cs252-lab6-58dac.appspot.com",
              messagingSenderId: "730586130212"
          };
      firebase.initializeApp(config);
          </script>
      </script>
      <button onclick="document.getElementById('id03').style.display='block'" style="width:auto;">Log in </button>
      <button onclick="document.getElementById('id01').style.display='block'" style="width:auto;">Sign Up</button>
      <!-- SIGN UP -->
      <div id="id01" class="modal">
          <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Modal">&times;</span>
          <form class="modal-content" action="./buttons.html">
              <div class="container">
                  <h1>Sign Up</h1>
                  <p>Please fill in this form to create an account.</p>
                  <hr>
                  <label for="Username"><b>Username</b></label>
                  <input type="text" placeholder="Enter Username" name="Username" required>
                      
                      <label for="psw"><b>Password</b></label>
                      <input type="password" placeholder="Enter Password" name="psw" required>
                          
                          <label for="psw-repeat"><b>Repeat Password</b></label>
                          <input type="password" placeholder="Repeat Password" name="psw-repeat" required>
                              <div class="clearfix">
                                  <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
                                  <button type="submit" class="signupbtn">Sign Up</button>
                              </div>
                              </div>
          </form>
      </div>
      <!-- Log in -->
      <div id="id03" class="modal">
          <span onclick="document.getElementById('id03').style.display='none'" class="close" title="Close Modal">&times;</span>
          <form class="modal-content" action="./buttons.html">
              <div class="container">
                  <h1>Login</h1>
                  <hr>
                  <label for="Username"><b>Username</b></label>
                  <input type="text" placeholder="Enter Username" name="Username" required>
                      <label for="psw"><b>Password</b></label>
                      <input type="password" placeholder="Enter Password" name="psw" required>
                          <div class="clearfix">
                              <button type="button" onclick="document.getElementById('id03').style.display='none'" class="cancelbtn">Cancel</button>
                              <button type="submit"  class="signupbtn">Log in</button>
                          </div>
                          </div>
          </form>
      </div>
      <script>
          // var modal = document.getElementById('id01');
          
          window.onclick = function(event) {
              if (event.target == document.getElementById('id01')) {
                  modal.style.display = "none";
              }else if (event.target == document.getElementById('id03')){
                  modal.style.display = "none";
                  
              }
          }
      </script>


    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // // ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥
        // // The Firebase SDK is initialized and available here!
        //
        // firebase.auth().onAuthStateChanged(user => { });
        // firebase.database().ref('/path/to/ref').on('value', snapshot => { });
        // firebase.messaging().requestPermission().then(() => { });
        // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
        //
        // // ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥

        try {
          let app = firebase.app();
          let features = ['auth', 'database', 'messaging', 'storage'].filter(feature => typeof app[feature] === 'function');
          document.getElementById('load').innerHTML = `Firebase SDK loaded with ${features.join(', ')}`;
        } catch (e) {
          console.error(e);
          document.getElementById('load').innerHTML = 'Error loading the Firebase SDK, check the console.';
>>>>>>> Youngjoon
        }

</script>
</body>
</html>
